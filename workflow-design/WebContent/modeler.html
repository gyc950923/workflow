<!doctype html>

<html class="no-js"> 
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>工作流设计器</title>
    <meta name="description" content="">
    <meta name="viewport"
          content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link rel="Stylesheet" media="screen" href="editor-app/libs/ng-grid-2.0.7.min.css" type="text/css"/>
    <link rel="stylesheet" href="editor-app/libs/bootstrap_3.1.1/css/bootstrap.min.css"/>

    <link rel="Stylesheet" media="screen" href="editor-app/editor/css/editor.css" type="text/css"/>
    <link rel="stylesheet" href="editor-app/css/style.css" type="text/css"/>
    <link rel="stylesheet" href="editor-app/fonts/awesome/css/font-awesome.css" type="text/css"/>

	<link rel="stylesheet" href="editor-app/css/style-common.css">
    <link rel="stylesheet" href="editor-app/css/style-editor.css">
   
 
	<script  type="text/javascript">
	
		var url = window.document.location.href;//获取连接地址
		var paramJson={};
		if(url.indexOf("?") != -1){
			var paramStr = url.split("?")[1];//切割出url中的参数字符串
			var params = paramStr.split("&");//切割参数
			for(var i = 0; i<params.length; i++){
				var param = params[i].split("=");
				paramJson[param[0]] = param[1];//将参数以key-value形式放入session
			}
		}
		
		var _MODEL_ID = paramJson.modelId;/* 模型id */;
		var JSON_MODEL = '';//流程图定义json串
		
	</script>
</head>
<body>

	<div class="navbar navbar-fixed-top navbar-inverse" role="navigation" id="main-header" style="background-color: #0265CB;">
	    <div>
	    	<span  class="STYLE11">
	    		<span >工作流设计器</span>
	    	</span>
        </div>
	</div>
	
	
	<div class="alert-wrapper" ng-cloak>
	    <div class="alert fadein {{alerts.current.type}}" ng-show="alerts.current" ng-click="dismissAlert()">
	        <i class="glyphicon"
	           ng-class="{'glyphicon-ok': alerts.current.type == 'info', 'glyphicon-remove': alerts.current.type == 'error'}"></i>
	        <span>{{alerts.current.message}}</span>
	
	        <div class="pull-right" ng-show="alerts.queue.length > 0">
	            <span class="badge">{{alerts.queue.length + 1}}</span>
	        </div>
	    </div>
	</div>
	
	<div id="main" class="wrapper full clearfix" ng-style="{height: window.height + 'px'}" ng-app="activitiModeler" ng-include="'editor-app/editor.html'">
	</div>

	
	<script src="editor-app/libs/jquery_1.11.0/jquery.min.js"></script>
	<script type="text/javascript">
		//var pathName = document.location.pathname;
		var href =location.href;
		var path = href.substring(0,href.lastIndexOf("/"));
		jQuery.ajax({
			type:"post",
			url: path+"/wf/model/initSession",
			data:{userName:paramJson.userName,userId:paramJson.userId,deptId:paramJson.deptId},
			dataType:'text',
			success:function(data){
				if(data){
					console.log(data);
					parentWindow._MODEL_ID = data;
					window.close();
				}
			}
		})
	</script>
	<script src="editor-app/libs/jquery-1.7.2.min.js"></script>
	<script src="editor-app/libs/jquery-ui-1.10.3.custom.min.js"></script>
	<script src="editor-app/libs/angular_1.2.13/angular.min.js"></script>
	<script src="editor-app/libs/angular_1.2.13/angular-animate.min.js"></script>
	<script src="editor-app/libs/bootstrap_3.1.1/js/bootstrap.min.js"></script>
	<script src="editor-app/libs/angular-resource_1.2.13/angular-resource.min.js"></script>
	<script src="editor-app/libs/angular-cookies_1.2.13/angular-cookies.min.js"></script>
	<script src="editor-app/libs/angular-sanitize_1.2.13/angular-sanitize.min.js"></script>
	<script src="editor-app/libs/angular-route_1.2.13/angular-route.min.js"></script>
	<script src="editor-app/libs/angular-translate_2.4.2/angular-translate.min.js"></script>
	<script src="editor-app/libs/angular-translate-storage-cookie/angular-translate-storage-cookie.js"></script>
	<script src="editor-app/libs/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script>
	<script src="editor-app/libs/angular-strap_2.0.5/angular-strap.min.js"></script>
	<script src="editor-app/libs/angular-strap_2.0.5/angular-strap.tpl.min.js"></script>
	<script src="editor-app/libs/momentjs_2.5.1/momentjs.min.js"></script>
	
	<script src="editor-app/libs/ui-utils.min-0.0.4.js" type="text/javascript"></script>
	<script src="editor-app/libs/ng-grid-2.0.7-min.js" type="text/javascript"></script>
	<!--  <script src="editor-app/libs/angular-dragdrop.min-1.0.3.js" type="text/javascript"></script>-->
	<script src="editor-app/libs/angular-dragdrop.js" type="text/javascript"></script>
	<script src="editor-app/libs/mousetrap-1.4.5.min.js" type="text/javascript"></script>
	<script src="editor-app/libs/jquery.autogrow-textarea.js" type="text/javascript"></script>

	<script src="editor-app/libs/prototype-1.5.1.js" type="text/javascript"></script>
	
	<script src="editor-app/libs/path_parser.js" type="text/javascript"></script>
	
	<script src="editor-app/libs/angular-scroll_0.5.7/angular-scroll.min.js" type="text/javascript"></script>
	
	<!-- Configuration -->
	<script src="editor-app/app-cfg.js?v=1"></script>
	<script src="editor-app/editor-config.js" type="text/javascript"></script>
	<script src="editor-app/configuration/url-config.js" type="text/javascript"></script>
	
	<script src="editor-app/editor/i18n/translation_en_us.js" type="text/javascript"></script>
	<script src="editor-app/editor/i18n/translation_signavio_en_us.js" type="text/javascript"></script>
	<script src="editor-app/editor/oryx.debug.js" type="text/javascript"></script>
	
	<script src="editor-app/app.js"></script>
	
	<script src="editor-app/eventbus.js" type="text/javascript"></script>
	
	<script src="editor-app/editor-controller.js" type="text/javascript"></script>
	<script src="editor-app/stencil-controller.js" type="text/javascript"></script>
	<script src="editor-app/toolbar-controller.js" type="text/javascript"></script>
	<script src="editor-app/header-controller.js" type="text/javascript"></script>
	<script src="editor-app/select-shape-controller.js" type="text/javascript"></script>
	
	<script src="editor-app/editor-utils.js" type="text/javascript"></script>
	<script src="editor-app/configuration/toolbar-default-actions.js" type="text/javascript"></script>
	
	<script src="editor-app/configuration/properties-default-controllers.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-execution-listeners-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-event-listeners-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-assignment-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-fields-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-form-properties-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-in-parameters-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-multiinstance-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-out-parameters-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-task-listeners-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-sequenceflow-order-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-condition-expression-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-signal-definitions-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-signal-scope-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-message-definitions-controller.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-message-scope-controller.js" type="text/javascript"></script>
	<!--顶部按钮  -->
	<script src="editor-app/configuration/toolbar.js" type="text/javascript"></script>
	<script src="editor-app/configuration/toolbar-custom-actions.js" type="text/javascript"></script>
	
	<script src="editor-app/configuration/properties.js" type="text/javascript"></script>
	<script src="editor-app/configuration/properties-custom-controllers.js" type="text/javascript"></script>
	
	<!-- 第三方弹出框js插件 -->
 	<script src="lhgdialog/v4.2.0/lhgdialog/lhgdialog.js?skin=iblue"></script>
	<script src="lhgdialog/v4.2.0/lhgdialog/lhgdialog.min.js"></script>
	<script src="lhgdialog/rewrite-jquery-dialog.js"></script> 
</body>
</html>
